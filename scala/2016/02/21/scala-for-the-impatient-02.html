<!DOCTYPE html>
<html id="J-html" class="">
<head>
    <meta charset="UTF-8" />
    <title>
        
            快学scala笔记——控制结构和函数上篇
        
    </title>
    <meta name="generator" content="Jekyll" />
    <meta name="author" content="whisper" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" media="all" href="https://inspireme.github.io/static/style.css" />
	<link rel="stylesheet" type="text/css" media="all" href="https://inspireme.github.io/static/syntax.css" />
    <!--[if lt IE 9]>
    <script src="https://inspireme.github.io/static/js/html5.js" type="text/javascript"></script>
    <![endif]-->
    <script src="https://inspireme.github.io/static/js/jquery.js" type="text/javascript"></script>
</head>
<body itemscope itemtype="http://schema.org/WebPage" class="home blog lotus index">
    <nav class="lotus-nav">
        <ul>
            
            
            
            
            
            <li class="home ">
                <a href="/index.html" rel="bookmark" title="Home">
                    <i class="icon-home"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="/categories.html" rel="bookmark" title="Categories">
                    <i class="icon-list-alt"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="/archives.html" rel="bookmark" title="Archives">
                    <i class="icon-reorder"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="/about.html" rel="bookmark" title="About Me">
                    <i class="icon-user"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="mailto:cndone@gmail.com" rel="bookmark" title="Contact Me">
                    <i class="icon-envelope-alt"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="https://github.com/inspireme" rel="bookmark" title="Github">
                    <i class="icon-github"></i>
                </a>
                
            </li>
            
        </ul>
    </nav>

    <p class="lotus-breadcrub">
    <a href="https://inspireme.github.io/index.html" rel="nofollow" rel="nofollow" title="ホームページ">Home</a>
    <span> &gt; </span>
    <a href="https://inspireme.github.io/archives.html" rel="nofollow" >Archives</a>
    <span> &gt; </span>
    快学scala笔记——控制结构和函数上篇
</p>
<h1 class="lotus-pagetit">快学scala笔记——控制结构和函数上篇</h1>

<p class="lotus-meta">Publish: <time class="date" pubdate="February 21, 2016">February 21, 2016</time></p>

<article  itemscope itemtype="http://schema.org/Article" class="lotus-post lotus-post-columns-1">
<ul>
  <li>
    <p>在scala中，几乎所有构造出来的语法结构都有值。</p>
  </li>
  <li>
    <p>scala中if/else表达式有值，这个值就是跟在if或else之后的表达式的值。</p>
  </li>
</ul>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code>
<span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="mi">1</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>

</code></pre>
</div>

<p>上述表达式的值是1或-1，具体是哪个取决于x的值。</p>

<ul>
  <li>可以将if/else表达式赋值给变量。</li>
</ul>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code>
<span class="k">val</span> <span class="n">x</span> <span class="k">=</span> <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="mi">1</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>

<span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="n">s</span> <span class="k">=</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">s</span> <span class="k">=</span> <span class="o">-</span><span class="mi">1</span>

</code></pre>
</div>

<p>上述的表达式第一种更好，因为可以用来初始化一个val，而第二种写法当中，s必须是var的。</p>

<ul>
  <li>
    <p>scala没有java的三目运算符(?:)，都使用if/else表达式。</p>
  </li>
  <li>
    <p>在scala中，每个表达式都有类型。</p>
  </li>
  <li>
    <p>if (x &gt; 0) 1 else -1 的类型是Int，因为两个分支的类型都是Int。</p>
  </li>
  <li>
    <p>if ( x &gt; 0) “scala” else -1 混合类型表达式。表达式的类型是两个分支类型的公共超类型，一个分支是java.lang.String，另一个分支是Int，公共超类型是Any。</p>
  </li>
  <li>
    <p>if ( x &gt; 0) 1没有else部分，有可能if语句没有输出值。但在scala中，每个表达式都应该有某种值，</p>
  </li>
</ul>

<p>解决方案是引入Unit类型，写做()。等价于 if ( x &gt; 0 ) 1 else ()。</p>

<ul>
  <li>
    <p>()表示无有用的值，可以当做java中的void，但从技术上讲，Unit有一个表示”无值”的值。</p>
  </li>
  <li>
    <p>在REPL中粘贴成块的代码，可以键入:paste，把代码粘贴进去，按下ctrl+d，代码当作一个整体来分析，不会担心REPL的”近视”问题，p15。</p>
  </li>
  <li>
    <p>在scala中，行尾的位置不需要分号，但也可以加上，个人习惯问题。</p>
  </li>
  <li>
    <p>但在单行写下多语句时需要用分号。</p>
  </li>
  <li>
    <p>{}块包含一系列表达式，结果也是一个表达式，块中最后一个表达式的值就是块的值。</p>
  </li>
  <li>
    <p>在scala中，赋值动作本身是没有值的，严格的说，值是Unit类型，写做()。</p>
  </li>
</ul>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code>
<span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="n">s</span> <span class="k">=</span> <span class="o">{</span><span class="k">var</span> <span class="n">a</span> <span class="k">=</span> <span class="mi">10</span><span class="o">;</span><span class="n">a</span><span class="k">=</span><span class="mi">100</span><span class="o">}</span>

<span class="n">s</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">()</span>

</code></pre>
</div>

<p>a=100的值()，a的值100。由于赋值语句的值是Unit类型，所以别把他们串接在一起，x＝y＝1，这是错误的，y＝1的值是()，除非你想把Unit类型的值赋给x。</p>

<ul>
  <li>
    <p>readLine函数从控制台读取一行输入，带一个参数为提示字符串。</p>
  </li>
  <li>
    <p>如果要读取数组，Boolean或字符，可以用readInt，readDouble，readByte，readShort，readLong，readFloat，readBoolean或者readChar。</p>
  </li>
</ul>

<p>原创文章转载请注明出处：<a href="http://9leg.com/scala/2016/02/19/scala-for-the-impatient-02.html">快学scala笔记——控制结构和函数上篇</a></p>

</article>
	
<p class="lotus-anno">Disclaimer: This article is based on  <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="nofollow" target="_blank" title="表示-非営利-継承">BY-NC-SA</a> license. Reproduced please specify switched from: <a href="" title="" rel="nofollow">whisper</a></p>
    
<section class="lotus-nextpage fn-clear">
    
    <div class="lotus-nextpage-left"><a class="prev" href="/scala/2016/02/19/scala-for-the-impatient-01.html" rel="prev">&laquo;&nbsp;快学scala笔记——基础</a></div>
    
    
    <div class="lotus-nextpage-right"><a class="next" href="/scala/2016/03/06/scala-for-the-impatient-03.html" rel="next">快学scala笔记——控制结构和函数下篇&nbsp;&raquo;</a></div>
    
</section>


<footer class="lotus-footer">
	<p>Copyright © 2011–2016 whisper All rights reserved. Design by <a href="http://www.zhanxin.info" target="_blank">zhanxin</a>.</p>
</footer>
<script src="https://inspireme.github.io/static/js/jquery.scrollTo.js" type="text/javascript"></script>
<script src="https://inspireme.github.io/static/js/iLotus.js" type="text/javascript"></script>
</body>
</html>
