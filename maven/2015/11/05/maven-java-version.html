<!DOCTYPE html>
<html id="J-html" class="">
<head>
    <meta charset="UTF-8" />
    <title>
        
            maven的java版本随jenv切换改变而改变
        
    </title>
    <meta name="generator" content="Jekyll" />
    <meta name="author" content="whisper" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" media="all" href="http://localhost:4000/static/style.css" />
	<link rel="stylesheet" type="text/css" media="all" href="http://localhost:4000/static/syntax.css" />
    <!--[if lt IE 9]>
    <script src="http://localhost:4000/static/js/html5.js" type="text/javascript"></script>
    <![endif]-->
    <script src="http://localhost:4000/static/js/jquery.js" type="text/javascript"></script>
</head>
<body itemscope itemtype="http://schema.org/WebPage" class="home blog lotus index">
    <nav class="lotus-nav">
        <ul>
            
            
            
            
            
            <li class="home ">
                <a href="/index.html" rel="bookmark" title="Home">
                    <i class="icon-home"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="/categories.html" rel="bookmark" title="Categories">
                    <i class="icon-list-alt"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="/archives.html" rel="bookmark" title="Archives">
                    <i class="icon-reorder"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="/about.html" rel="bookmark" title="About Me">
                    <i class="icon-user"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="mailto:cndone@gmail.com" rel="bookmark" title="Contact Me">
                    <i class="icon-envelope-alt"></i>
                </a>
                
            </li>
            
            
            
            
            
            <li class="">
                <a href="https://github.com/inspireme" rel="bookmark" title="Github">
                    <i class="icon-github"></i>
                </a>
                
            </li>
            
        </ul>
    </nav>

    <p class="lotus-breadcrub">
    <a href="http://localhost:4000/index.html" rel="nofollow" rel="nofollow" title="ホームページ">Home</a>
    <span> &gt; </span>
    <a href="http://localhost:4000/archives.html" rel="nofollow" >Archives</a>
    <span> &gt; </span>
    maven的java版本随jenv切换改变而改变
</p>
<h1 class="lotus-pagetit">maven的java版本随jenv切换改变而改变</h1>

<p class="lotus-meta">Publish: <time class="date" pubdate="November  5, 2015">November  5, 2015</time></p>

<article  itemscope itemtype="http://schema.org/Article" class="lotus-post lotus-post-columns-1">
<p>在项目中使用的还是java1.7比较多,1.8平时业余项目用用,学习下,毕竟新版本始终会代替旧版本的.在mac上推荐使用jenv工具来管理多java版本,
能够随意切换.</p>

<p>官方网站<a href="http://www.jenv.be/" target="_blank">http://www.jenv.be/</a>,还有个是<a href="http://jenv.io/" target="_blank">http://jenv.io/</a>
国人开发的算是升级版本把,能够通过该工具安装java,ant,maven,tomact.对于我来说,使用jenv足够了.</p>

<p>jenv安装和使用就不说了,官方网站已经很详细了.使用jenv切换版本后,java -version是生效了.
但使用mvn -v命令显示的信息一直是最新安装的java版本.应该没有多大问题,但令人很不爽,google下,找到解决方案,如下</p>

<p>在用户目录下新建 ~/.mavenrc文件,内容是:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">JAVA_HOME</span><span class="o">=</span><span class="err">$</span><span class="o">(/</span><span class="n">usr</span><span class="o">/</span><span class="n">libexec</span><span class="o">/</span><span class="n">java_home</span> <span class="o">-</span><span class="n">v</span> <span class="err">$</span><span class="o">(</span><span class="n">jenv</span> <span class="n">version</span><span class="o">-</span><span class="n">name</span><span class="o">))</span></code></pre></figure>

<p>使用了jenv version-name变量,当使用jenv global 1.7或1.8的时候,mvn -v对应的java版本也能切换了.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">zhujiajundeMacBook</span><span class="o">-</span><span class="nl">Pro:</span><span class="n">Home</span> <span class="n">zhujiajun</span><span class="err">$</span> <span class="n">java</span> <span class="o">-</span><span class="n">version</span>
<span class="n">java</span> <span class="n">version</span> <span class="s">"1.8.0_66"</span>
<span class="n">Java</span><span class="o">(</span><span class="n">TM</span><span class="o">)</span> <span class="n">SE</span> <span class="n">Runtime</span> <span class="nf">Environment</span> <span class="o">(</span><span class="n">build</span> <span class="mf">1.8</span><span class="o">.</span><span class="mi">0</span><span class="n">_66</span><span class="o">-</span><span class="n">b17</span><span class="o">)</span>
<span class="n">Java</span> <span class="nf">HotSpot</span><span class="o">(</span><span class="n">TM</span><span class="o">)</span> <span class="mi">64</span><span class="o">-</span><span class="n">Bit</span> <span class="n">Server</span> <span class="nf">VM</span> <span class="o">(</span><span class="n">build</span> <span class="mf">25.66</span><span class="o">-</span><span class="n">b17</span><span class="o">,</span> <span class="n">mixed</span> <span class="n">mode</span><span class="o">)</span>

<span class="n">zhujiajundeMacBook</span><span class="o">-</span><span class="nl">Pro:</span><span class="n">Home</span> <span class="n">zhujiajun</span><span class="err">$</span> <span class="n">mvn</span> <span class="o">-</span><span class="n">v</span>
<span class="n">Apache</span> <span class="n">Maven</span> <span class="mf">3.3</span><span class="o">.</span><span class="mi">3</span> <span class="o">(</span><span class="mi">7994120775791599</span><span class="n">e205a5524ec3e0dfe41d4a06</span><span class="o">;</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span><span class="nl">T19:</span><span class="mi">57</span><span class="o">:</span><span class="mi">37</span><span class="o">+</span><span class="mi">08</span><span class="o">:</span><span class="mi">00</span><span class="o">)</span>
<span class="n">Maven</span> <span class="nl">home:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">zhujiajun</span><span class="o">/</span><span class="n">Work</span><span class="o">/</span><span class="n">apache</span><span class="o">-</span><span class="n">maven</span><span class="o">-</span><span class="mf">3.3</span><span class="o">.</span><span class="mi">3</span>
<span class="n">Java</span> <span class="nl">version:</span> <span class="mf">1.8</span><span class="o">.</span><span class="mi">0</span><span class="n">_66</span><span class="o">,</span> <span class="nl">vendor:</span> <span class="n">Oracle</span> <span class="n">Corporation</span>
<span class="n">Java</span> <span class="nl">home:</span> <span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Java</span><span class="o">/</span><span class="n">JavaVirtualMachines</span><span class="o">/</span><span class="n">jdk1</span><span class="o">.</span><span class="mf">8.0</span><span class="n">_66</span><span class="o">.</span><span class="na">jdk</span><span class="o">/</span><span class="n">Contents</span><span class="o">/</span><span class="n">Home</span><span class="o">/</span><span class="n">jre</span>
<span class="n">Default</span> <span class="nl">locale:</span> <span class="n">zh_CN</span><span class="o">,</span> <span class="n">platform</span> <span class="nl">encoding:</span> <span class="n">UTF</span><span class="o">-</span><span class="mi">8</span>
<span class="n">OS</span> <span class="nl">name:</span> <span class="s">"mac os x"</span><span class="o">,</span> <span class="nl">version:</span> <span class="s">"10.11.1"</span><span class="o">,</span> <span class="nl">arch:</span> <span class="s">"x86_64"</span><span class="o">,</span> <span class="nl">family:</span> <span class="s">"mac"</span>

<span class="n">zhujiajundeMacBook</span><span class="o">-</span><span class="nl">Pro:</span><span class="n">Home</span> <span class="n">zhujiajun</span><span class="err">$</span> <span class="n">jenv</span> <span class="n">global</span> <span class="mf">1.7</span>

<span class="n">zhujiajundeMacBook</span><span class="o">-</span><span class="nl">Pro:</span><span class="n">Home</span> <span class="n">zhujiajun</span><span class="err">$</span> <span class="n">mvn</span> <span class="o">-</span><span class="n">v</span>
<span class="n">Apache</span> <span class="n">Maven</span> <span class="mf">3.3</span><span class="o">.</span><span class="mi">3</span> <span class="o">(</span><span class="mi">7994120775791599</span><span class="n">e205a5524ec3e0dfe41d4a06</span><span class="o">;</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">22</span><span class="nl">T19:</span><span class="mi">57</span><span class="o">:</span><span class="mi">37</span><span class="o">+</span><span class="mi">08</span><span class="o">:</span><span class="mi">00</span><span class="o">)</span>
<span class="n">Maven</span> <span class="nl">home:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">zhujiajun</span><span class="o">/</span><span class="n">Work</span><span class="o">/</span><span class="n">apache</span><span class="o">-</span><span class="n">maven</span><span class="o">-</span><span class="mf">3.3</span><span class="o">.</span><span class="mi">3</span>
<span class="n">Java</span> <span class="nl">version:</span> <span class="mf">1.7</span><span class="o">.</span><span class="mi">0</span><span class="n">_72</span><span class="o">,</span> <span class="nl">vendor:</span> <span class="n">Oracle</span> <span class="n">Corporation</span>
<span class="n">Java</span> <span class="nl">home:</span> <span class="o">/</span><span class="n">Library</span><span class="o">/</span><span class="n">Java</span><span class="o">/</span><span class="n">JavaVirtualMachines</span><span class="o">/</span><span class="n">jdk1</span><span class="o">.</span><span class="mf">7.0</span><span class="n">_72</span><span class="o">.</span><span class="na">jdk</span><span class="o">/</span><span class="n">Contents</span><span class="o">/</span><span class="n">Home</span><span class="o">/</span><span class="n">jre</span>
<span class="n">Default</span> <span class="nl">locale:</span> <span class="n">zh_CN</span><span class="o">,</span> <span class="n">platform</span> <span class="nl">encoding:</span> <span class="n">UTF</span><span class="o">-</span><span class="mi">8</span>
<span class="n">OS</span> <span class="nl">name:</span> <span class="s">"mac os x"</span><span class="o">,</span> <span class="nl">version:</span> <span class="s">"10.11.1"</span><span class="o">,</span> <span class="nl">arch:</span> <span class="s">"x86_64"</span><span class="o">,</span> <span class="nl">family:</span> <span class="s">"mac"</span>

<span class="n">zhujiajundeMacBook</span><span class="o">-</span><span class="nl">Pro:</span><span class="n">Home</span> <span class="n">zhujiajun</span><span class="err">$</span> <span class="n">java</span> <span class="o">-</span><span class="n">version</span>
<span class="n">java</span> <span class="n">version</span> <span class="s">"1.7.0_72"</span>
<span class="n">Java</span><span class="o">(</span><span class="n">TM</span><span class="o">)</span> <span class="n">SE</span> <span class="n">Runtime</span> <span class="nf">Environment</span> <span class="o">(</span><span class="n">build</span> <span class="mf">1.7</span><span class="o">.</span><span class="mi">0</span><span class="n">_72</span><span class="o">-</span><span class="n">b14</span><span class="o">)</span>
<span class="n">Java</span> <span class="nf">HotSpot</span><span class="o">(</span><span class="n">TM</span><span class="o">)</span> <span class="mi">64</span><span class="o">-</span><span class="n">Bit</span> <span class="n">Server</span> <span class="nf">VM</span> <span class="o">(</span><span class="n">build</span> <span class="mf">24.72</span><span class="o">-</span><span class="n">b04</span><span class="o">,</span> <span class="n">mixed</span> <span class="n">mode</span><span class="o">)</span></code></pre></figure>

<p>参考:</p>

<p><a href="https://github.com/gcuisinier/jenv/issues/74" target="_blank">https://github.com/gcuisinier/jenv/issues/74</a></p>

<p>原创文章转载请注明出处：<a href="http://9leg.com/maven/2015/11/05/maven-java-version .html">maven的java版本随jenv切换改变而改变</a></p>

</article>
	
<p class="lotus-anno">Disclaimer: This article is based on  <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="nofollow" target="_blank" title="表示-非営利-継承">BY-NC-SA</a> license. Reproduced please specify switched from: <a href="" title="" rel="nofollow">whisper</a></p>
    
<section class="lotus-nextpage fn-clear">
    
    <div class="lotus-nextpage-left"><a class="prev" href="/scala/2015/10/17/scala-play-setting.html" rel="prev">&laquo;&nbsp;基于play-scala的sbt目录和ivy仓库设置</a></div>
    
    
    <div class="lotus-nextpage-right"><a class="next" href="/java/2016/01/21/java-annotation.html" rel="next">Java注解全面解析&nbsp;&raquo;</a></div>
    
</section>


<footer class="lotus-footer">
	<p>Copyright © 2011–2016 whisper All rights reserved. Design by <a href="http://www.zhanxin.info" target="_blank">zhanxin</a>.</p>
</footer>
<script src="http://localhost:4000/static/js/jquery.scrollTo.js" type="text/javascript"></script>
<script src="http://localhost:4000/static/js/iLotus.js" type="text/javascript"></script>
</body>
</html>
